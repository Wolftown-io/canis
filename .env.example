# VoiceChat Environment Configuration
# Copy this file to .env and adjust values

# =============================================================================
# Required Settings
# =============================================================================

# Domain name for your instance
DOMAIN=chat.example.com

# PostgreSQL password (generate a strong random password)
POSTGRES_PASSWORD=changeme

# JWT secret key (generate with: openssl rand -base64 32)
JWT_SECRET=changeme

# Email for Let's Encrypt certificate
ACME_EMAIL=admin@example.com

# =============================================================================
# S3 Storage (Optional)
# =============================================================================

# S3-compatible endpoint (leave empty to use local storage)
S3_ENDPOINT=
S3_BUCKET=voicechat
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# =============================================================================
# SSO/OIDC (Optional)
# =============================================================================

# OIDC provider settings (e.g., Authentik, Keycloak)
OIDC_ISSUER_URL=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=

# =============================================================================
# WebRTC Voice (Optional)
# =============================================================================

# Public IP address (required for voice, auto-detected if empty)
PUBLIC_IP=

# RTP port range for WebRTC media (default: 10000-10100)
# Ensure these ports are open in your firewall (UDP)
RTP_PORT_MIN=10000
RTP_PORT_MAX=10100

# STUN server (default: Google's public STUN)
STUN_SERVER=stun:stun.l.google.com:19302

# TURN server (required for users behind restrictive NAT)
TURN_SERVER=
TURN_USERNAME=
TURN_CREDENTIAL=

# =============================================================================
# Development Only
# =============================================================================

# Database URL for local development
DATABASE_URL=postgres://voicechat:devpassword@localhost:5432/voicechat

# Redis URL for local development
REDIS_URL=redis://localhost:6379

# Logging level
RUST_LOG=vc_server=debug,tower_http=debug
